{"version":3,"file":"index.js","sources":["../../src/enum/index.ts","../../src/app.ts"],"sourcesContent":["export enum Dictionaries {\r\n  permanent = \"permanent\",\r\n  expire = \"__expire__\",\r\n}\r\n","import { p01 } from \"./courses/p01\";\r\nimport { p02 } from \"./courses/p02\";\r\nimport { p03 } from \"./courses/p03\";\r\nimport { p04 } from \"./courses/p04\";\r\nimport { p05 } from \"./courses/p05\";\r\nimport { p06 } from \"./courses/p06\";\r\nimport { p07 } from \"./courses/p07\";\r\nimport { p08 } from \"./courses/p08\";\r\nimport { p09 } from \"./courses/p09\";\r\nimport { p10 } from \"./courses/p10\";\r\nimport { p11 } from \"./courses/p11\";\r\nimport { p12 } from \"./courses/p12\";\r\nimport { p13 } from \"./courses/p13\";\r\nimport { p14 } from \"./courses/p14\";\r\nimport { p15 } from \"./courses/p15\";\r\nimport { p16 } from \"./courses/p16\";\r\nimport { p17 } from \"./courses/p17\";\r\nimport { p18 } from \"./courses/p18\";\r\nimport { p20 } from \"./courses/p20\";\r\nimport { p21 } from \"./courses/p21\";\r\nimport { p22 } from \"./courses/p22\";\r\nimport { p23 } from \"./courses/p23\";\r\nimport { p24 } from \"./courses/p24\";\r\nimport { Dictionaries } from \"./enum\";\r\nimport { Data, Expire, Key, Result, StorageCls } from \"./type\";\r\n\r\n/* p01();\r\np02();\r\np03();\r\np04();\r\np05();\r\np06();\r\np07();\r\np08();\r\np09();\r\np10();\r\np11();\r\np12();\r\np13();\r\np14();\r\np15();\r\np16();\r\np17();\r\np18();\r\np20();\r\np21();\r\np22();\r\np23();\r\np24();\r\nconst a: string = \"小满好短sss\";\r\nconsole.log(a);\r\nif (process.env.NODE_ENV === \"development\") {\r\n  console.log(\"开发\");\r\n} else {\r\n  console.log(\"生产\");\r\n}\r\nlet a: string = \"webpack + TS\";\r\nconsole.log(a);\r\nexport const a: number = 1;\r\nexport const b: string = \"ikun\";\r\nlet x = 1;\r\nlet fn = () => 123;\r\nconsole.log(x, fn); */\r\nexport class Storage implements StorageCls {\r\n  get<T>(key: Key): Result<T | null> {\r\n    const value = localStorage.getItem(key);\r\n    if (value) {\r\n      const data: Data<T> = JSON.parse(value);\r\n      const now = new Date().getTime();\r\n      if (\r\n        typeof data[Dictionaries.expire] == \"number\" &&\r\n        data[Dictionaries.expire] < now\r\n      ) {\r\n        this.remove(key);\r\n        return {\r\n          message: `您的${key}已过期`,\r\n          value: null,\r\n        };\r\n      } else {\r\n        return {\r\n          message: \"成功\",\r\n          value: data.value,\r\n        };\r\n      }\r\n    } else {\r\n      return {\r\n        message: \"值无效\",\r\n        value: null,\r\n      };\r\n    }\r\n  }\r\n  set<T>(key: Key, value: T, expire: Expire = Dictionaries.permanent) {\r\n    const data = {\r\n      value,\r\n      [Dictionaries.expire]: expire,\r\n    };\r\n\r\n    localStorage.setItem(key, JSON.stringify(data));\r\n  }\r\n  remove(key: Key) {\r\n    localStorage.removeItem(key);\r\n  }\r\n  clear() {\r\n    localStorage.clear();\r\n  }\r\n}\r\n"],"names":["Dictionaries","Storage","get","key","value","localStorage","getItem","data","JSON","parse","now","Date","getTime","expire","this","remove","message","set","permanent","setItem","stringify","removeItem","clear"],"mappings":"QAAYA,yQAAZ,SAAYA,GACVA,EAAA,UAAA,YACAA,EAAA,OAAA,YACD,CAHD,CAAYA,IAAAA,EAGX,CAAA,UC4DYC,EACXC,IAAOC,GACL,MAAMC,EAAQC,aAAaC,QAAQH,GACnC,GAAIC,EAAO,CACT,MAAMG,EAAgBC,KAAKC,MAAML,GAC3BM,GAAM,IAAIC,MAAOC,UACvB,MACsC,iBAA7BL,EAAKP,EAAaa,SACzBN,EAAKP,EAAaa,QAAUH,GAE5BI,KAAKC,OAAOZ,GACL,CACLa,QAAS,KAAKb,OACdC,MAAO,OAGF,CACLY,QAAS,KACTZ,MAAOG,EAAKH,MAGjB,CACC,MAAO,CACLY,QAAS,MACTZ,MAAO,KAGZ,CACDa,IAAOd,EAAUC,EAAUS,EAAiBb,EAAakB,WACvD,MAAMX,EAAO,CACXH,QACA,CAACJ,EAAaa,QAASA,GAGzBR,aAAac,QAAQhB,EAAKK,KAAKY,UAAUb,GAC1C,CACDQ,OAAOZ,GACLE,aAAagB,WAAWlB,EACzB,CACDmB,QACEjB,aAAaiB,OACd"}